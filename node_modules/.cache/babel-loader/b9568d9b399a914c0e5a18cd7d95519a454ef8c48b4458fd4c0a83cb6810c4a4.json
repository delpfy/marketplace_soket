{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import{useAppDispatch,useAppSelector}from\"../../redux/hooks\";import{SetID}from\"../../redux/home/homeSlice\";import{IncExpences,AddItem,AddItemAmount}from\"../../redux/basket/basketSlice\";import\"../../styles/style.css\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CatalogContentBlock=function CatalogContentBlock(props){var ITEMS_AMOUNT=useAppSelector(function(state){return state.basket.itemsAmount;});var ITEMS=useAppSelector(function(state){return state.basket.items;});var dispatch=useAppDispatch();var INC_EXPENCES=function INC_EXPENCES(price){dispatch(IncExpences(price));};var PUSH_AMOUNT_ITEMS=function PUSH_AMOUNT_ITEMS(item){dispatch(AddItemAmount(item));};var PUSH_ITEMS=function PUSH_ITEMS(item){dispatch(AddItem(item));};var Add_Item=function Add_Item(){INC_EXPENCES(props.price);var Item_Entry=ITEMS.filter(function(el){return el.props.id===props.id;});var ItemAmount_Entry=ITEMS_AMOUNT.filter(function(el){return el.id===props.id;});if(Item_Entry.length===0){PUSH_ITEMS({props:props,amount:1});PUSH_AMOUNT_ITEMS({id:props.id,amount:1});}else{PUSH_AMOUNT_ITEMS({id:props.id,amount:ItemAmount_Entry.length+1});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return dispatch(SetID(props.id));},className:\"catalog__body_block\",children:[/*#__PURE__*/_jsx(Link,{to:\"/item\",className:\"link\",children:/*#__PURE__*/_jsx(\"img\",{className:\"catalog_item_image\",src:props.image[0],alt:props.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog_item_name\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"catalog_item_name_text\",children:props.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog_item_price\",children:[props.price,\"\\u20B4\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog_item_add\",onClick:function onClick(){return Add_Item();},children:[\" \",\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0434\\u043E \\u043A\\u043E\\u0448\\u0438\\u043A\\u0430\",\" \"]})]})});};export default CatalogContentBlock;","map":{"version":3,"names":["React","Link","useAppDispatch","useAppSelector","SetID","IncExpences","AddItem","AddItemAmount","CatalogContentBlock","props","ITEMS_AMOUNT","state","basket","itemsAmount","ITEMS","items","dispatch","INC_EXPENCES","price","PUSH_AMOUNT_ITEMS","item","PUSH_ITEMS","Add_Item","Item_Entry","filter","el","id","ItemAmount_Entry","length","amount","image","name"],"sources":["C:/Users/cubar/source/react/soket_ts/src/Components/Catalog/CatalogContentBlock.tsx"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\nimport { SetID } from \"../../redux/home/homeSlice\";\n\nimport {\n  IncExpences,\n  AddItem,\n  AddItemAmount,\n} from \"../../redux/basket/basketSlice\";\n\nimport \"../../styles/style.css\";\nimport { IItems, IItemsAmount } from \"../../redux/types\";\n\nexport const CatalogContentBlock = (props:any) => {\n  const ITEMS_AMOUNT = useAppSelector((state) => state.basket.itemsAmount);\n  const ITEMS = useAppSelector((state) => state.basket.items);\n  const dispatch = useAppDispatch();\n  \n\n  const INC_EXPENCES = (price: number) => {\n    dispatch(IncExpences(price));\n  };\n\n  const PUSH_AMOUNT_ITEMS = (item: IItemsAmount) => {\n    dispatch(AddItemAmount(item));\n  };\n\n  const PUSH_ITEMS = (item:IItems) => {\n    dispatch(AddItem(item));\n  };\n\n  const Add_Item = () => {\n    INC_EXPENCES(props.price);\n\n    const Item_Entry = ITEMS.filter((el) => el.props.id === props.id);\n    const ItemAmount_Entry = ITEMS_AMOUNT.filter((el) => el.id === props.id);\n\n    if (Item_Entry.length === 0) {\n      PUSH_ITEMS({ props, amount: 1 });\n      PUSH_AMOUNT_ITEMS({ id: props.id, amount: 1 });\n    } else {\n      PUSH_AMOUNT_ITEMS({ id: props.id, amount: ItemAmount_Entry.length + 1 });\n    }\n  };\n\n  return (\n    <>\n      <div\n        onClick={() => dispatch(SetID(props.id))}\n        className=\"catalog__body_block\"\n      >\n        <Link to=\"/item\" className=\"link\">\n          <img\n            className=\"catalog_item_image\"\n            src={props.image[0]}\n            alt={props.name}\n          />\n        </Link>\n        <div className=\"catalog_item_name\">\n          <h1 className=\"catalog_item_name_text\">{props.name}</h1>\n        </div>\n        <div className=\"catalog_item_price\">{props.price}₴</div>\n\n        <div className=\"catalog_item_add\" onClick={() => Add_Item()}>\n          {\" \"}\n          Додати до кошика{\" \"}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CatalogContentBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}